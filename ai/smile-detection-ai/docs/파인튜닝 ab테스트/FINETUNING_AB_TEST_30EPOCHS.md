# íŒŒì¸íŠœë‹ A/B í…ŒìŠ¤íŠ¸ - ì‹¤í—˜ 2: 30 Epochs

**ì‹¤í—˜ì¼**: 2026-01-26
**ëª©ì **: ì—í­ ìˆ˜ë¥¼ ì¤„ì—¬ ê³¼ì í•© ì™„í™” (50 â†’ 30)

---

## ğŸ”§ ì‹¤í—˜ ì„¤ì •

### í•™ìŠµ íŒŒë¼ë¯¸í„°
- **ì—í­ ìˆ˜**: **30 epochs** (ì´ì „: 50)
- **Early Stopping**: Patience 10 (ì ìš©ë¨)
- **ë°°ì¹˜ í¬ê¸°**: 4
- **í•™ìŠµë¥ **: 5e-5
- **Train/Val Split**: 9:1 (Train: 170, Val: 19)
- **ë””ë°”ì´ìŠ¤**: CPU
- **ì†Œìš” ì‹œê°„**: ì•½ 4.2ë¶„

### ë°ì´í„°ì…‹
- **í•™ìŠµ ë°ì´í„°**: 170ê°œ ì‹œí€€ìŠ¤
- **ê²€ì¦ ë°ì´í„°**: 19ê°œ ì‹œí€€ìŠ¤
- **í‰ê°€ ë°ì´í„°**: 80ê°œ ì‹œí€€ìŠ¤ (Smile: 40, Non-smile: 40)

### í•™ìŠµ ê²°ê³¼
- **Best Val Loss**: 0.0011
- **Final Train Loss**: ~0.7
- **Early Stopping**: ë°œë™ ì•ˆ í•¨ (30 epochs ì™„ì£¼)

---

## ğŸ“Š ì„±ëŠ¥ í‰ê°€ ê²°ê³¼

### ì •ëŸ‰ì  ì§€í‘œ (Threshold = 0.5)

| ì§€í‘œ | ê°’ | Baseline ëŒ€ë¹„ | ëª©í‘œ |
|------|-----|---------------|------|
| **Accuracy** | 65.00% | Â±0% | 85%+ |
| **Precision** | 68.75% | **+6.25%p** âœ… | 85%+ |
| **Recall** | 55.00% | **-20.0%p** âŒ | 90%+ |
| **F1 Score** | 61.11% | -7.07%p | 87%+ |
| **ROC AUC** | 0.7325 | +0.0719 âœ… | 0.90+ |
| **Optimal Threshold** | 0.0004 | - | - |

### Confusion Matrix

```
                 Predicted
                 Non-Smile  Smile
Actual Non-Smile      30      10
Actual Smile          18      22
```

### ì—ëŸ¬ ë¶„ì„

| ì—ëŸ¬ ìœ í˜• | ê°œìˆ˜ | ë¹„ìœ¨ | ì„¤ëª… |
|-----------|------|------|------|
| **False Positive (FP)** | 10 | 25.0% | ì•ˆ ì›ƒì—ˆëŠ”ë° ì›ƒì—ˆë‹¤ê³  íŒì • |
| **False Negative (FN)** | 18 | 45.0% | **ì›ƒì—ˆëŠ”ë° ì•ˆ ì›ƒì—ˆë‹¤ê³  íŒì •** âš ï¸ |
| True Positive (TP) | 22 | 55.0% | ì›ƒìŒ ì •í™•íˆ íƒì§€ |
| True Negative (TN) | 30 | 75.0% | ë¬´í‘œì • ì •í™•íˆ íƒì§€ |

---

## ğŸ“ˆ ë¹„êµ ë¶„ì„

### Baseline vs 30 Epochs

| ì§€í‘œ | Baseline | **30 Epochs** | ë³€í™” |
|------|----------|---------------|------|
| Accuracy | 65.00% | **65.00%** | Â±0% |
| Precision | 62.50% | **68.75%** | â¬†ï¸ +6.25%p âœ… |
| Recall | 75.00% | **55.00%** | â¬‡ï¸ -20.0%p âŒ |
| F1 Score | 68.18% | **61.11%** | â¬‡ï¸ -7.07%p |
| ROC AUC | 0.6606 | **0.7325** | â¬†ï¸ +0.0719 âœ… |

### 50 Epochs vs 30 Epochs

| ì§€í‘œ | 50 Epochs | **30 Epochs** | ë³€í™” |
|------|-----------|---------------|------|
| Accuracy | 62.50% | **65.00%** | â¬†ï¸ +2.5%p |
| Precision | 61.36% | **68.75%** | â¬†ï¸ +7.39%p |
| Recall | 67.50% | **55.00%** | â¬‡ï¸ -12.5%p |
| F1 Score | 64.29% | **61.11%** | â¬‡ï¸ -3.18%p |
| ROC AUC | 0.7347 | **0.7325** | â¬‡ï¸ -0.0022 |
| Val Loss | 0.0003 | **0.0011** | â¬†ï¸ (ëœ ê³¼ì í•©) |

---

## ğŸ” ê²°ê³¼ ë¶„ì„

### âœ… ê°œì„ ëœ ì 

1. **ê³¼ì í•© ì™„í™”**
   - Val Loss: 0.0003 (50ep) â†’ 0.0011 (30ep)
   - í•™ìŠµ ë°ì´í„° ì•”ê¸° ì •ë„ ê°ì†Œ

2. **Accuracy íšŒë³µ**
   - 62.5% (50ep) â†’ 65.0% (30ep)
   - Baselineê³¼ ë™ì¼í•œ ìˆ˜ì¤€ ë‹¬ì„±

3. **Precision í–¥ìƒ**
   - 61.36% (50ep) â†’ 68.75% (30ep)
   - False Positive ê°ì†Œ: 17ê°œ â†’ 10ê°œ

4. **ROC AUC ê°œì„ **
   - 0.6606 (Baseline) â†’ 0.7325 (30ep)
   - ì „ë°˜ì ì¸ ë¶„ë¥˜ ì„±ëŠ¥ í–¥ìƒ

### âŒ ë¬¸ì œì 

1. **Recall ì‹¬ê°í•œ í•˜ë½**
   - 75.0% (Baseline) â†’ 55.0% (30ep)
   - **False Negative ì¦ê°€**: 10ê°œ â†’ 18ê°œ
   - **ì›ƒì€ ì‚¬ëŒì˜ 45%ë¥¼ ë†“ì¹¨**

2. **F1 Score í•˜ë½**
   - 68.18% (Baseline) â†’ 61.11% (30ep)
   - Precision-Recall ê· í˜• ì•…í™”

3. **Optimal Threshold ì´ìƒ**
   - 0.0004 (ê±°ì˜ 0ì— ê°€ê¹Œì›€)
   - ëª¨ë¸ì´ ë§¤ìš° ë‚®ì€ í™•ë¥ ê°’ë§Œ ì¶œë ¥
   - í•™ìŠµ/í‰ê°€ ë°ì´í„° ë¶„í¬ ë¶ˆì¼ì¹˜ ì˜ì‹¬

### í•´ì„

**30 epochsëŠ” 50 epochsë³´ë‹¤ ê³¼ì í•©ì´ ëœí•˜ì§€ë§Œ:**
- **ë³´ìˆ˜ì  ì˜ˆì¸¡ ê²½í–¥**: Precision â†‘, Recall â†“
- **ì›ƒìŒ íƒì§€ ëŠ¥ë ¥ ì €í•˜**: FN 18ê°œ (45%)
- **Trade-off ë¶ˆê· í˜•**: Precision í–¥ìƒì´ Recall í¬ìƒì„ ì •ë‹¹í™”í•˜ì§€ ëª»í•¨

---

## ğŸ’¡ ì›ì¸ ê°€ì„¤

### 1ï¸âƒ£ ë°ì´í„° ë¶€ì¡± (ê·¼ë³¸ ì›ì¸)
- **í˜„ì¬**: 170ê°œ í•™ìŠµ ìƒ˜í”Œ
- **ê¶Œì¥**: ìµœì†Œ 1,000~10,000ê°œ
- **ê²°ê³¼**: ì¼ë°˜í™” ëŠ¥ë ¥ ë¶€ì¡±, íŒ¨í„´ í•™ìŠµ ë¶ˆì¶©ë¶„

### 2ï¸âƒ£ í•™ìŠµ/í‰ê°€ ë°ì´í„° ë¶„í¬ ë¶ˆì¼ì¹˜
- **í•™ìŠµ ë°ì´í„°**: `data/collected` (íŠ¹ì • í™˜ê²½/ì‹œì )
- **í‰ê°€ ë°ì´í„°**: `data/eval` (ë‹¤ë¥¸ í™˜ê²½/ì‹œì )
- **Optimal Threshold 0.0004**: ì‹¬ê°í•œ ë¶„í¬ ì°¨ì´ ì‹œì‚¬

### 3ï¸âƒ£ í•™ìŠµ ë¶€ì¡±
- **30 epochs**: ê³¼ì í•©ì€ ì¤„ì—ˆìœ¼ë‚˜ í•™ìŠµì´ ë¶ˆì¶©ë¶„
- **ì¦ê±°**: Recall í•˜ë½ (ì›ƒìŒ íŒ¨í„´ í•™ìŠµ ë¯¸í¡)
- **í•„ìš”**: ì ì ˆí•œ ê· í˜•ì  ì°¾ê¸° (35~40 epochs?)

### 4ï¸âƒ£ Threshold ìµœì í™” í•„ìš”
- **í˜„ì¬**: Threshold 0.5 ì‚¬ìš©
- **Optimal**: 0.0004 (ëª¨ë¸ ì¶œë ¥ ë¶„í¬ ì°¸ê³ )
- **ê°œì„  ê°€ëŠ¥ì„±**: Threshold ì¡°ì •ìœ¼ë¡œ Recall ê°œì„  ê°€ëŠ¥

---

## ğŸ¯ ê²°ë¡  ë° ë‹¤ìŒ ë‹¨ê³„

### ê²°ë¡ 

> **30 epochs íŒŒì¸íŠœë‹ì€ 50 epochsë³´ë‹¤ ê³¼ì í•©ì´ ëœí•˜ë‚˜,**
> **Baseline ëŒ€ë¹„ ì˜ë¯¸ìˆëŠ” ì„±ëŠ¥ ê°œì„  ì‹¤íŒ¨**

**ì£¼ìš” ë°œê²¬:**
- Precisionë§Œ ê°œì„  (+6.25%p)
- Recall ì‹¬ê°í•œ í•˜ë½ (-20.0%p)
- ì „ë°˜ì ìœ¼ë¡œ Baselineê³¼ ë¹„ìŠ·í•˜ê±°ë‚˜ ì¼ë¶€ ì•…í™”

**í•µì‹¬ ë¬¸ì œ:**
1. **ë°ì´í„° ë¶€ì¡±** (170ê°œ)
2. **í•™ìŠµ/í‰ê°€ ë¶„í¬ ë¶ˆì¼ì¹˜**
3. **ëª¨ë¸ ì¶œë ¥ ë¶„í¬ ì´ìƒ**

### ë‹¤ìŒ ì‹¤í—˜ ê³„íš

#### ë‹¨ê¸° ì‹¤í—˜
- [ ] **10 Epochs ì¬í•™ìŠµ**: 

#### ì¤‘ê¸° ê³„íš
- [ ] **ë°ì´í„° ì¶”ê°€ ìˆ˜ì§‘**: ìµœì†Œ 500ê°œ ëª©í‘œ
- [ ] **Data Augmentation**: íšŒì „, ë°ê¸°, ë…¸ì´ì¦ˆ ë“±
- [ ] **Cross-validation**: Robust í‰ê°€

#### ì¥ê¸° ê³„íš
- [ ] **ëª¨ë¸ ì•„í‚¤í…ì²˜ ì¬ê²€í† **
- [ ] **Transfer Learning ê°œì„ **
- [ ] **Ensemble ë°©ë²• ê²€í† **

---

## ğŸ“ ê²°ê³¼ íŒŒì¼

### í‰ê°€ ê²°ê³¼
- `data/evaluation/baseline_results_20260126_113738.json`
- `data/evaluation/baseline_roc_20260126_113738.png`

### í•™ìŠµ ì²´í¬í¬ì¸íŠ¸
- `checkpoints/finetune_20260126_113040/best_model.pth`
- `models/smile_detector_finetuned.onnx` (30 epochs ë²„ì „)

---

**ì´ì „**: [50 Epochs ì‹¤í—˜](./FINETUNING_AB_TEST_50EPOCHS.md)
**ë‹¤ìŒ**: ìµœì¢… ë¹„êµ ë³´ê³ ì„œ
