<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            background: #fff;
            margin: 0;
            padding: 40px;
            color: #333;
        }
        h1 {
            font-size: 20px;
            font-weight: 600;
            margin: 0 0 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        .card {
            border: 1px solid #ddd;
            padding: 20px;
        }
        .card h3 {
            font-size: 14px;
            margin: 0 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .param-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .param-list li {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 13px;
            border-bottom: 1px solid #f5f5f5;
        }
        .param-list li:last-child {
            border-bottom: none;
        }
        .param-list .value {
            font-weight: 500;
        }
        .ab-test {
            grid-column: 1 / -1;
        }
        .ab-test h3 {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .badge {
            font-size: 11px;
            background: #333;
            color: #fff;
            padding: 3px 8px;
            font-weight: normal;
        }
        .epochs {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        .epoch {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
        }
        .epoch.winner {
            border: 2px solid #333;
            background: #f8f9fa;
        }
        .epoch.loser {
            color: #999;
        }
        .epoch h4 {
            font-size: 14px;
            margin: 0 0 10px;
        }
        .epoch .accuracy {
            font-size: 28px;
            font-weight: 600;
        }
        .epoch .status {
            font-size: 11px;
            color: #888;
            margin-top: 8px;
        }
        .insight {
            border: 1px solid #ddd;
            padding: 20px;
            background: #fafafa;
        }
        .insight h3 {
            font-size: 14px;
            margin: 0 0 15px;
        }
        .insight-content {
            display: flex;
            gap: 30px;
        }
        .insight-text {
            flex: 1;
            font-size: 13px;
            line-height: 1.8;
        }
        .insight-formula {
            border: 1px solid #ddd;
            background: #fff;
            padding: 20px;
            font-family: monospace;
            font-size: 13px;
            text-align: center;
            line-height: 1.8;
        }
    </style>
</head>
<body>
    <h1>Fine-tuning 전략</h1>

    <div class="grid">
        <div class="card">
            <h3>하이퍼파라미터</h3>
            <ul class="param-list">
                <li><span>Learning Rate</span><span class="value">0.001</span></li>
                <li><span>Batch Size</span><span class="value">32</span></li>
                <li><span>Optimizer</span><span class="value">Adam</span></li>
                <li><span>Scheduler</span><span class="value">Cosine Annealing</span></li>
                <li><span>Weight Decay</span><span class="value">0.0001</span></li>
            </ul>
        </div>

        <div class="card">
            <h3>Loss 설정</h3>
            <ul class="param-list">
                <li><span>Head1 (Smile)</span><span class="value">BCE Loss</span></li>
                <li><span>Head2 (Emotion)</span><span class="value">CrossEntropy</span></li>
                <li><span>Label Smoothing</span><span class="value">0.1</span></li>
                <li><span>Loss Weight</span><span class="value">1:1</span></li>
            </ul>
        </div>

        <div class="card ab-test">
            <h3>A/B 테스트 결과 <span class="badge">10 Epochs 최적</span></h3>
            <div class="epochs">
                <div class="epoch loser">
                    <h4>50 Epochs</h4>
                    <div class="accuracy">62.5%</div>
                    <div class="status">Overfitting</div>
                </div>
                <div class="epoch loser">
                    <h4>30 Epochs</h4>
                    <div class="accuracy">65.0%</div>
                    <div class="status">Baseline 동등</div>
                </div>
                <div class="epoch winner">
                    <h4>10 Epochs</h4>
                    <div class="accuracy">72.5%</div>
                    <div class="status">+7.5%p 향상 ✓</div>
                </div>
                <div class="epoch loser">
                    <h4>7 Epochs</h4>
                    <div class="accuracy">56.3%</div>
                    <div class="status">Underfitting</div>
                </div>
            </div>
        </div>
    </div>

    <div class="insight">
        <h3>Key Insight: Val Loss 역설</h3>
        <div class="insight-content">
            <div class="insight-text">
                <strong>발견:</strong> Validation Loss가 가장 낮은 모델(50 Epochs)이 실제 테스트에서 최악의 성능을 보임<br><br>
                <strong>원인:</strong> 소규모 데이터셋(170개)에서 Val Loss는 과적합의 척도가 아님. 모델이 validation set을 "암기"하면서 loss는 낮아지지만 일반화 능력은 떨어짐<br><br>
                <strong>교훈:</strong> 소규모 데이터셋에서는 Val Loss 대신 Hold-out Test Set의 정확도를 기준으로 모델 선택
            </div>
            <div class="insight-formula">
                Low Val Loss<br>
                ≠<br>
                Good Generalization<br><br>
                (Small Dataset)
            </div>
        </div>
    </div>
</body>
</html>
