# ğŸ­ Smile Battle - ì›ƒìŒ ì°¸ê¸° ì±Œë¦°ì§€

> ì‹¤ì‹œê°„ í™”ìƒ ì›ƒìŒ ì°¸ê¸° ëŒ€ê²° ì„œë¹„ìŠ¤

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ë¹ ë¥¸ ì‹œì‘ (Quick Start)](#-ë¹ ë¥¸-ì‹œì‘-quick-start)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [í™˜ê²½ë³„ ê°€ì´ë“œ](#-í™˜ê²½ë³„-ê°€ì´ë“œ)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [íŒ€ì›](#-íŒ€ì›)

---

## ğŸš€ í”„ë¡œì íŠ¸ ì†Œê°œ

'Smile Battle'ì€ ì‚¬ìš©ìê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ í™”ìƒ ëŒ€ê²°ì„ í†µí•´ ì„œë¡œì˜ ì›ƒìŒì„ ì°¸ëŠ” ì±Œë¦°ì§€ì— ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. WebRTC ê¸°ìˆ ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ë‚®ì€ ì§€ì—° ì‹œê°„ê³¼ ë†’ì€ í™”ì§ˆì˜ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°ì„ ì œê³µí•©ë‹ˆë‹¤. AIë¥¼ í™œìš©í•œ ì›ƒìŒ ê°ì§€ ëª¨ë¸ì´ í†µí•©ë˜ì–´ ìˆì–´, ê³µì •í•˜ê³  ì¬ë¯¸ìˆëŠ” ëŒ€ê²°ì„ ì§€ì›í•©ë‹ˆë‹¤.

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ (Quick Start)

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Docker & Docker Compose
- Git
- (ë¡œì»¬ ê°œë°œ ì‹œ) JDK 17+, Node.js 18+

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://lab.ssafy.com/your-team/S14P11E207.git
cd S14P11E207
```

### 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

```bash
cd backend
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ í•„ìš”í•œ ê°’ ìˆ˜ì •
```

### 3. ë¡œì»¬ ê°œë°œ í™˜ê²½ ì‹¤í–‰

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
make local-up
```

### 4. ì ‘ì† í™•ì¸

| ì„œë¹„ìŠ¤ | URL |
|--------|-----|
| Backend API | http://localhost:8081 |
| MySQL | localhost:3307 |
| Redis | localhost:6380 |
| MinIO Console | http://localhost:9001 |

### 5. ê°œë°œ í™˜ê²½ ì¤‘ì§€

```bash
make local-down
```

---

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           production-network                            â”‚
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚    MySQL    â”‚      â”‚    Redis    â”‚      â”‚    MinIO    â”‚             â”‚
â”‚   â”‚   Primary   â”‚      â”‚   Cluster   â”‚      â”‚   Storage   â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚          â”‚                    â”‚                    â”‚                    â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                     â”‚         â”‚                                         â”‚
â”‚                     â–¼         â–¼                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚              â”‚      WAS Cluster      â”‚                                  â”‚
â”‚              â”‚   (Blue / Green)      â”‚                                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                         â”‚                                               â”‚
â”‚                         â–¼                                               â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚                  â”‚    Nginx    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€User                    â”‚
â”‚                  â”‚    Proxy    â”‚               (Web)                    â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          (/objects -> MinIO Proxy)     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
S14P11E207/
â”œâ”€â”€ ai/                    # AI ì„œë²„ (ì›ƒìŒ ê°ì§€ ëª¨ë¸)
â”‚   â””â”€â”€ smile-detection-ai/
â”œâ”€â”€ backend/               # Spring Boot ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ docker-compose.prod.yml    # ìš´ì˜ ì„œë²„
â”‚   â””â”€â”€ src/
â”œâ”€â”€ Jenkinsfile            # CI/CD íŒŒì´í”„ë¼ì¸ (Root)
â”œâ”€â”€ frontend/              # React í”„ë¡ íŠ¸ì—”ë“œ
â”œâ”€â”€ infra/                 # ì¸í”„ë¼ ì„¤ì •
â”‚   â”œâ”€â”€ docker-compose.yml         # Jenkins / nginx
â”‚   â”œâ”€â”€ docker-compose.data.dev.yml # MySQL, Redis, MinIO (Dev)
â”‚   â”œâ”€â”€ docker-compose.data.prod.yml # MySQL, Redis, MinIO (Prod)
â”‚   â”œâ”€â”€ jenkins/
â”‚   â””â”€â”€ nginx-proxy/
â”œâ”€â”€ scripts/               # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ Makefile               # ìš´ì˜ ëª…ë ¹ì–´
â”œâ”€â”€ DOCKER_GUIDE.md        # Docker í™˜ê²½ ê°€ì´ë“œ
â””â”€â”€ DEPLOYMENT_GUIDE.md    # ë°°í¬/Jenkins ê°€ì´ë“œ
```

---

## ğŸ“– í™˜ê²½ë³„ ê°€ì´ë“œ

| í™˜ê²½ | ìš©ë„ | ë¬¸ì„œ |
|------|------|------|
| **Local** | ê°œë°œì PCì—ì„œ ê°œë°œ | `make local-up` |
| **Dev** | íŒ€ ê³µìœ  ê°œë°œ ì„œë²„ | [DOCKER_GUIDE.md](./DOCKER_GUIDE.md) |
| **Prod** | ìš´ì˜ ì„œë²„ | [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) |

### ì£¼ìš” Make ëª…ë ¹ì–´

```bash
make help              # ì „ì²´ ëª…ë ¹ì–´ ëª©ë¡

# ë¡œì»¬ ê°œë°œ
make local-up          # ë¡œì»¬ í™˜ê²½ ì‹¤í–‰
make local-down        # ë¡œì»¬ í™˜ê²½ ì¤‘ì§€
make local-logs        # WAS ë¡œê·¸ í™•ì¸

# ì„œë²„ ë°°í¬
make infra-all-up      # ì¸í”„ë¼ ìŠ¤íƒ ì „ì²´ ì‹¤í–‰
make deploy-blue       # Blue ë°°í¬
make switch-blue       # Blueë¡œ íŠ¸ë˜í”½ ì „í™˜
```

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- Java 21, Spring Boot 3.5.9
- Spring Security, JWT
- Spring Data JPA, QueryDSL
- MySQL 8.0, Redis

### Frontend
- React 19, TypeScript
- Vite, TailwindCSS
- Zustand, React Query

### AI
- Python, FastAPI
- TensorFlow/PyTorch
- OpenCV

### Infra
- Docker, Docker Compose
- Jenkins CI/CD
- Nginx (Blue-Green Deployment)
- Grafana, Loki (Monitoring)
- OpenVidu (WebRTC)

---

## ğŸ“š ë¬¸ì„œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [DOCKER_GUIDE.md](./DOCKER_GUIDE.md) | Docker Compose í™˜ê²½ë³„ ì„¤ì • |
| [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) | ë°°í¬ ë° Jenkins CI/CD ê°€ì´ë“œ |
| [infra/README.md](./infra/README.md) | ì¸í”„ë¼ ìŠ¤íƒ ìƒì„¸ |

---

## ğŸ‘¥ íŒ€ì›

| ì´ë¦„ | ì—­í•  |
|------|------|
| ê¹€ìŠ¹ì²  | Frontend |
| ë°•ì„¸í™ | Frontend |
| ì–‘í•œë¹ˆ | AI |
| ì˜¤ì–¸ì„œ | Backend |
| ìœ ì¤€í˜¸ | Backend, DevOps |
| ì´ì¬í˜¸ | PM |
| ì°¨ê²½ë¹ˆ | Backend |

---

## ğŸ“„ License

This project is for SSAFY educational purposes.

